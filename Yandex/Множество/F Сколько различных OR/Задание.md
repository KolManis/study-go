
# Сколько различных OR?

**Ограничение времени:** 1 с  
**Ограничение памяти:** 64.0 Мб  

---

## Условие задачи

Дан массив целых чисел длины $n$. Рассмотрим все его **непустые подмассивы** (подпоследовательные отрезки). Для каждого подмассива вычислим **побитовый OR** всех его элементов. Требуется найти число различных значений этого OR среди всех подмассивов.

---

## Формат входных данных

Первая строка содержит целое число $n$ ($1 \le n \le 2 \cdot 10^5$) — длина массива.

Вторая строка содержит $n$ целых чисел $a_1, a_2, \dots, a_n$ ($0 \le a_i \le 10^9$) — элементы массива.

---

## Формат выходных данных

Выведите одно целое число — количество различных значений побитового OR, получающихся на подмассивах массива.

---

## Примеры

### Пример 1
**Ввод:**
```
3
1 2 4
```
**Вывод:**
```
6
```
*Пояснение:*
- Подмассивы: `[1]`, `[2]`, `[4]`, `[1,2]`, `[2,4]`, `[1,2,4]`
- OR значений: 1, 2, 4, 3 (1|2), 6 (2|4), 7 (1|2|4)
- Различные значения: {1, 2, 3, 4, 6, 7} → 6 различных

### Пример 2
**Ввод:**
```
4
0 0 0 0
```
**Вывод:**
```
1
```
*Пояснение:*
- Все подмассивы дают OR = 0
- Различных значений: только {0} → 1

---

## Пояснение операции OR

Побитовый OR (ИЛИ) — битовая операция:
- 0 | 0 = 0
- 0 | 1 = 1
- 1 | 0 = 1  
- 1 | 1 = 1

Например:
- 1 (двоичное 001) | 2 (двоичное 010) = 3 (двоичное 011)
- 2 (010) | 4 (100) = 6 (110)
- 1 (001) | 2 (010) | 4 (100) = 7 (111)

---

## Примечания

1. Подмассив — это последовательный отрезок массива, не обязательно начинающийся с первого элемента
2. Всего подмассивов у массива длины $n$: $\frac{n(n+1)}{2}$ (в примере 1: 3*4/2 = 6)
3. Для $n \le 2 \cdot 10^5$ нельзя перебирать все подмассивы явно ($O(n^2)$ слишком медленно)
4. Нужен алгоритм сложности $O(n \cdot \log(\max(a_i)))$ или лучше
5. OR — операция монотонная: при добавлении элемента OR может только увеличивать количество установленных битов

---


Вместо того чтобы перебирать все подмассивы, мы идём по массиву слева направо и на каждом шаге считаем все возможные OR для подмассивов, которые заканчиваются на текущей позиции.

Пример для массива [1, 2, 4]:
Шаг 1: i=0 (число 1)

Подмассивы, заканчивающиеся на позиции 0: только [1]

OR = 1

Запоминаем: currentValues = {1}

Все различные OR: allValues = {1}

Шаг 2: i=1 (число 2)

Подмассивы, заканчивающиеся на позиции 1:

[2] → OR = 2

[1,2] → OR = 1|2 = 3

Как получили? Берем все OR с предыдущего шага ({1}) и объединяем с числом 2:

1 | 2 = 3

currentValues = {2, 3}

allValues = {1, 2, 3}

Шаг 3: i=2 (число 4)

Подмассивы, заканчивающиеся на позиции 2:

[4] → 4

[2,4] → 2|4 = 6 (берём 2 из предыдущего шага)

[1,2,4] → 1|2|4 = 7 (берём 3 из предыдущего шага, т.к. 3 = 1|2)

currentValues = {4, 6, 7}

allValues = {1, 2, 3, 4, 6, 7}

Итого: 6 различных OR